(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{63321:(e,t,a)=>{Promise.resolve().then(a.bind(a,69236))},69236:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var s=a(57437),i=a(2265),n=a(89506),r=a(69842),l=a(16463),c=a(7476),d=a(5186),o=a(19993);let m=function(e){let{payments:t,selectedMonth:a,selectedYear:i,setSelectedMonth:n,setSelectedYear:r,fetchPayments:l,refreshingPayments:d,reminderLoading:m,sendReminder:x}=e;return(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("select",{className:"rounded-md border border-gray-300 p-2",value:a,onChange:e=>n(parseInt(e.target.value)),children:Array.from({length:12},(e,t)=>(0,s.jsx)("option",{value:t+1,children:new Date(2e3,t,1).toLocaleString("default",{month:"long"})},t+1))}),(0,s.jsx)("select",{className:"rounded-md border border-gray-300 p-2",value:i,onChange:e=>r(parseInt(e.target.value)),children:Array.from({length:5},(e,t)=>{let a=new Date().getFullYear()-2+t;return(0,s.jsx)("option",{value:a,children:a},a)})})]}),(0,s.jsxs)("button",{onClick:l,className:"bg-gray-200 text-gray-800 px-4 py-2 rounded hover:bg-gray-300 flex items-center",children:[(0,s.jsx)(c.Bw1,{className:"mr-2 ".concat(d?"animate-spin":"")}),"Refresh"]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.companyName})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full\n                            ".concat("paid"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",e.amount]}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.dueDate).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:"paid"!==e.status&&(0,s.jsx)("button",{onClick:()=>x(e.companyId),disabled:m===e.companyId,className:"bg-blue-100 text-blue-800 px-4 py-2 rounded hover:bg-blue-200 disabled:opacity-50",children:m===e.companyId?(0,s.jsx)(o.Z,{size:"sm",color:"primary"}):"Send Reminder"})})]},e.companyId))})]})})]})},x=function(e){let{unacceptedCompanies:t,fetchUnacceptedCompanies:a,refreshingUnaccepted:i,acceptCompany:n,acceptLoading:r}=e;return(0,s.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,s.jsxs)("div",{className:"overflow-x-auto",children:[(0,s.jsx)("div",{className:"flex justify-end mb-4",children:(0,s.jsxs)("button",{onClick:a,className:"bg-gray-200 text-gray-800 px-4 py-2 rounded hover:bg-gray-300 flex items-center",children:[(0,s.jsx)(c.Bw1,{className:"mr-2 ".concat(i?"animate-spin":"")}),"Refresh"]})}),(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"D\xe9nomination"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.companyName})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsx)("button",{onClick:()=>n(e.id),className:"bg-blue-100 text-blue-800 px-4 py-2 rounded hover:bg-blue-200 flex items-center justify-center",disabled:r===e.id,children:r===e.id?(0,s.jsx)(o.Z,{size:"sm",color:"primary"}):"Accept"})})]},e.id))})]})]})})},p=function(e){let{blockedCompanies:t,fetchBlockedCompanies:a,refreshingBlocked:i,toggleCompanyStatus:n,toggleLoading:r}=e;return(0,s.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,s.jsxs)("div",{className:"overflow-x-auto",children:[(0,s.jsx)("div",{className:"flex justify-end mb-4",children:(0,s.jsxs)("button",{onClick:a,className:"bg-gray-200 text-gray-800 px-4 py-2 rounded hover:bg-gray-300 flex items-center",children:[(0,s.jsx)(c.Bw1,{className:"mr-2 ".concat(i?"animate-spin":"")}),"Refresh"]})}),(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"D\xe9nomination"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.companyName})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsx)("button",{onClick:()=>n(e.id,e.isActive),className:"bg-green-100 text-green-800 px-4 py-2 rounded hover:bg-green-200",disabled:r===e.id,children:r===e.id?(0,s.jsx)(o.Z,{size:"sm",color:"primary"}):"Unblock"})})]},e.id))})]})]})})};var u=a(66648);let h=function(e){let{transactions:t,fetchTransactions:a,refreshingTransactions:i}=e;return(0,s.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,s.jsxs)("div",{className:"overflow-x-auto",children:[(0,s.jsx)("div",{className:"flex justify-end mb-4",children:(0,s.jsxs)("button",{onClick:a,className:"bg-gray-200 text-gray-800 px-4 py-2 rounded hover:bg-gray-300 flex items-center",children:[(0,s.jsx)(c.Bw1,{className:"mr-2 ".concat(i?"animate-spin":"")}),"Refresh"]})}),(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sender"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Logo"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.dateTime})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.sender})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.amount})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)(u.default,{src:e.logo,alt:"Company Logo",width:40,height:40,className:"rounded-full"})})]},e.id))})]})]})})};var y=a(26285),g=a(54253),f=a(7386),j=a(85274),b=a(27776);let N=function(){var e,t;let[a,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(!1);(0,i.useEffect)(()=>{o()},[]);let o=async()=>{try{let e=await (0,r.QT)((0,r.JU)(n.db,"settings","payments"));e.exists()?l(e.data()):l({amount:0,frequency:"monthly",dueDay:1})}catch(e){b.Am.error("Failed to load payment settings"),l({amount:0,frequency:"monthly",dueDay:1})}};if(!a)return(0,s.jsx)("div",{children:"Loading..."});let m=async e=>{e.preventDefault(),d(!0);try{let e={amount:a.amount,frequency:a.frequency,dueDay:a.dueDay,updatedAt:new Date().toISOString()},t=(0,r.pl)((0,r.JU)(n.db,"settings","payments"),e,{merge:!0});b.Am.promise(t,{loading:"Updating settings...",success:"Payment settings updated successfully",error:"Failed to update payment settings"}),await t}catch(e){console.log("Error updating settings:",e)}finally{d(!1)}};return(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Param\xe8tres de cotisation"}),(0,s.jsxs)("form",{onSubmit:m,className:"space-y-6 max-w-md",children:[(0,s.jsx)(y.Y,{type:"number",label:"Montant a payer (FCFA)",value:(null===(e=a.amount)||void 0===e?void 0:e.toString())||"0",onChange:e=>l({...a,amount:Number(e.target.value)}),min:0}),(0,s.jsxs)(g.g,{label:"Fr\xe9quence de paiement",selectedKeys:[a.frequency],onChange:e=>l({...a,frequency:e.target.value}),children:[(0,s.jsx)(f.R,{value:"monthly",children:"Mensuel"},"monthly"),(0,s.jsx)(f.R,{value:"quarterly",children:"Trimestriel"},"quarterly"),(0,s.jsx)(f.R,{value:"annually",children:"Annuel"},"annually")]}),(0,s.jsx)(y.Y,{type:"number",label:"Jour de paiement",value:(null===(t=a.dueDay)||void 0===t?void 0:t.toString())||"1",onChange:e=>l({...a,dueDay:Number(e.target.value)}),min:1,max:31}),(0,s.jsx)(j.A,{type:"submit",color:"primary",isLoading:c,className:"w-full",children:"Enregistrer les param\xe8tres"})]})]})},w=function(e){let{companies:t,fetchCompanies:a,refreshingCompanies:i,toggleCompanyStatus:n,toggleLoading:r,deleteCompany:l,deleteLoading:d}=e;return(0,s.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,s.jsxs)("div",{className:"overflow-x-auto",children:[(0,s.jsx)("div",{className:"flex justify-end mb-4",children:(0,s.jsxs)("button",{onClick:a,className:"bg-gray-200 text-gray-800 px-4 py-2 rounded hover:bg-gray-300 flex items-center",children:[(0,s.jsx)(c.Bw1,{className:"mr-2 ".concat(i?"animate-spin":"")}),"Refresh"]})}),(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"D\xe9nomination"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.companyName})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"})}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium flex items-center justify-end",children:[(0,s.jsx)("button",{onClick:()=>n(e.id,e.isActive),className:"hover:text-indigo-900 mr-4 bg-indigo-100 text-main px-4 py-2 rounded flex items-center justify-center",disabled:r===e.id,children:r===e.id?(0,s.jsx)(o.Z,{size:"sm",color:"primary"}):e.isActive?"Block":"Unblock"}),(0,s.jsx)("button",{onClick:()=>l(e.id),className:"text-red-600 hover:text-red-900 mr-4 bg-red-100 px-4 py-2 rounded flex items-center justify-center",disabled:d===e.id,children:d===e.id?(0,s.jsx)(o.Z,{size:"sm",color:"primary"}):"Delete"})]})]},e.id))})]})]})})},v=function(e){let{items:t,activeTab:a,setActiveTab:i,isSidebarOpen:n,handleLogout:r}=e;return(0,s.jsxs)("aside",{className:"bg-main flex flex-col justify-between text-white font-sans m-2 rounded-sm shadow-sm w-64 fixed h-full transition-transform duration-300 ease-in-out ".concat(n?"translate-x-0":"-translate-x-full"," lg:translate-x-0"),children:[(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)("nav",{className:"space-y-4",children:t.map(e=>(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{onClick:()=>i(e.id),className:"w-full flex items-center font-semibold px-4 py-3 text-sm rounded-md transition-colors ".concat(a===e.id?"bg-indigo-200 text-main":"bg-slate-100 text-main hover:bg-indigo-100 hover:text-main"),children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"mr-3",children:e.icon}),e.label]})}),e.count>0&&(0,s.jsx)("span",{className:"absolute top-5 right-5 transform -translate-y-1/2 translate-x-1/2 bg-red-500 text-white text-[10px] font-semibold px-2 py-1 rounded-full min-w-[20px] text-center",children:e.count})]},e.id))})}),(0,s.jsx)("div",{className:"mx-4 mb-10 bg-white rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(u.default,{src:"/user-image.png",alt:"User Image",width:32,height:32,className:"rounded-full mr-4"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-800 font-semibold text-[13px]",children:"Jeremie Kounoudji"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"Administrateur"})]})]}),(0,s.jsx)("button",{onClick:r,className:"bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition duration-300",children:(0,s.jsx)(c.xqh,{size:10})})]})})]})};function S(){let[e,t]=(0,i.useState)([]),[a,u]=(0,i.useState)(!0),[y,g]=(0,i.useState)(""),[f,j]=(0,i.useState)("all"),[b,S]=(0,i.useState)(!0),[k,C]=(0,i.useState)([]),[A,D]=(0,i.useState)([]),[I,E]=(0,i.useState)(null),[F,J]=(0,i.useState)(null),[L,O]=(0,i.useState)([]),[T,P]=(0,i.useState)(!1),[U,R]=(0,i.useState)(!1),[q,Y]=(0,i.useState)(!1),[B,z]=(0,i.useState)(!1),Z=(0,l.useRouter)(),M=(0,d.v0)(),[_,Q]=(0,i.useState)(0),[K,V]=(0,i.useState)(0),[W,$]=(0,i.useState)(0),[G,H]=(0,i.useState)(0),[X,ee]=(0,i.useState)(null),[et,ea]=(0,i.useState)(new Date().getMonth()+1),[es,ei]=(0,i.useState)(new Date().getFullYear()),[en,er]=(0,i.useState)([]),[el,ec]=(0,i.useState)(!1),[ed,eo]=(0,i.useState)(null),[em,ex]=(0,i.useState)(0),ep=async()=>{try{P(!0);let e=(0,r.IO)((0,r.hJ)(n.db,"companies"),(0,r.ar)("isAccepted","==",!0)),a=await (0,r.PL)(e),s=[];a.forEach(e=>{s.push({id:e.id,...e.data()})}),t(s),P(!1)}catch(e){g("Failed to load companies"),P(!1)}finally{u(!1),P(!1)}},eu=async()=>{try{Y(!0);let e=(0,r.IO)((0,r.hJ)(n.db,"companies"),(0,r.ar)("isActive","==",!1)),t=await (0,r.PL)(e),a=[];t.forEach(e=>{a.push({id:e.id,...e.data()})}),D(a),Y(!1)}catch(e){g("Failed to load blocked companies"),Y(!1)}},eh=async()=>{try{R(!0);let e=await (0,r.PL)((0,r.hJ)(n.db,"transactions")),t=[];e.forEach(e=>{let a=e.data(),s=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}).format(new Date(a.dateTime));t.push({id:e.id,...a,dateTime:s})}),C(t),R(!1)}catch(e){g("Failed to load transactions"),R(!1)}},ey=async()=>{try{z(!0);let e=(0,r.IO)((0,r.hJ)(n.db,"companies"),(0,r.ar)("isAccepted","==",!1)),t=await (0,r.PL)(e),a=[];t.forEach(e=>{a.push({id:e.id,...e.data()})}),O(a),z(!1)}catch(e){g("Failed to load unaccepted companies"),z(!1)}},eg=async(e,a)=>{E(e);try{await (0,r.r7)((0,r.JU)(n.db,"companies",e),{isActive:!a}),D(t=>t.filter(t=>t.id!==e)),t(t=>t.map(t=>t.id===e?{...t,isActive:!a}:t)),await ej()}catch(e){g("Failed to update company status")}finally{E(null)}},ef=async e=>{J(e);try{await (0,r.oe)((0,r.JU)(n.db,"companies",e)),t(t=>t.filter(t=>t.id!==e)),await ej()}catch(e){g("Failed to delete company")}finally{J(null)}};(0,i.useEffect)(()=>{ep()},[]),(0,i.useEffect)(()=>{eh()},[]),(0,i.useEffect)(()=>{eu()},[]),(0,i.useEffect)(()=>{ey()},[]);let ej=async()=>{try{let e=(0,r.IO)((0,r.hJ)(n.db,"companies"),(0,r.ar)("isAccepted","==",!0)),t=await (0,r.Yp)(e);Q(t.data().count);let a=(0,r.hJ)(n.db,"transactions"),s=await (0,r.Yp)(a);V(s.data().count);let i=(0,r.IO)((0,r.hJ)(n.db,"companies"),(0,r.ar)("isActive","==",!1)),l=await (0,r.Yp)(i);$(l.data().count);let c=(0,r.IO)((0,r.hJ)(n.db,"companies"),(0,r.ar)("isAccepted","==",!1)),d=await (0,r.Yp)(c);H(d.data().count)}catch(e){console.error("Failed to get counts:",e),Q(0),V(0),$(0),H(0)}};(0,i.useEffect)(()=>{ej()},[]);let eb=(0,i.useCallback)(async()=>{ec(!0);try{let e=(0,r.IO)((0,r.hJ)(n.db,"payments"),(0,r.ar)("year","==",es),(0,r.ar)("month","==",et)),t=await (0,r.PL)(e),a=[];t.forEach(e=>{a.push(e.data())}),er(a),ex(a.filter(e=>"paid"!==e.status).length)}catch(e){g("Failed to load payments")}finally{ec(!1)}},[et,es]),eN=async e=>{eo(e);try{let t=en.find(t=>t.companyId===e);if(!t)return;await fetch("/api/send-payment-reminder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.ceoEmail,companyName:t.companyName,amount:t.amount,dueDate:t.dueDate})})}catch(e){g("Failed to send reminder")}finally{eo(null)}};(0,i.useEffect)(()=>{"payments"===f&&eb()},[et,es,f,eb]);let ew=[{id:"all",label:"Tous",icon:(0,s.jsx)(c.WY8,{}),count:_},{id:"transactions",label:"Transactions",icon:(0,s.jsx)(c.oQC,{}),count:K},{id:"blocked",label:"Entreprises bloqu\xe9es",icon:(0,s.jsx)(c.oQC,{}),count:W},{id:"submissions",label:"Validation en attente",icon:(0,s.jsx)(c.NOg,{}),count:G},{id:"payments",label:"Monthly Payments",icon:(0,s.jsx)(c.oQC,{}),count:em},{id:"payment-settings",label:"Payment Settings",icon:(0,s.jsx)(c.nbt,{}),count:0}],ev=async()=>{try{await (0,d.w7)(M),Z.push("/")}catch(e){console.error("Error logging out:",e)}},eS=async e=>{ee(e);try{await (0,r.r7)((0,r.JU)(n.db,"companies",e),{isAccepted:!0}),O(t=>t.filter(t=>t.id!==e)),t(t=>t.map(t=>t.id===e?{...t,isAccepted:!0}:t)),await ej()}catch(e){g("Failed to accept company")}finally{ee(null)}};return a?(0,s.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,s.jsx)(o.Z,{size:"lg",color:"primary"})}):y?(0,s.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,s.jsx)("div",{className:"text-red-500 text-center p-8",children:y})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:(0,s.jsxs)("div",{className:"flex pt-2 pb-2 h-screen",children:[(0,s.jsx)(v,{items:ew,activeTab:f,setActiveTab:j,isSidebarOpen:b,handleLogout:ev}),(0,s.jsxs)("main",{className:"flex-1 p-8 transition-all duration-300 ".concat(b?"lg:ml-64":""),children:["all"===f&&(0,s.jsx)(w,{companies:e,fetchCompanies:ep,refreshingCompanies:T,toggleCompanyStatus:eg,toggleLoading:I,deleteCompany:ef,deleteLoading:F}),"transactions"===f&&(0,s.jsx)(h,{transactions:k,fetchTransactions:eh,refreshingTransactions:U}),"blocked"===f&&(0,s.jsx)(p,{blockedCompanies:A,fetchBlockedCompanies:eu,refreshingBlocked:q,toggleCompanyStatus:eg,toggleLoading:I}),"submissions"===f&&(0,s.jsx)(x,{unacceptedCompanies:L,fetchUnacceptedCompanies:ey,refreshingUnaccepted:B,acceptCompany:eS,acceptLoading:X}),"payments"===f&&(0,s.jsx)(m,{payments:en,selectedMonth:et,selectedYear:es,setSelectedMonth:ea,setSelectedYear:ei,fetchPayments:eb,refreshingPayments:el,reminderLoading:ed,sendReminder:eN}),"payment-settings"===f&&(0,s.jsx)(N,{})]})]})})}},89506:(e,t,a)=>{"use strict";a.d(t,{I:()=>c,db:()=>d,t:()=>o});var s=a(15236),i=a(5186),n=a(69842),r=a(99854);let l=(0,s.ZF)({apiKey:"AIzaSyArJiDI7NLdSCRJtCOPjbjIv81xICr5hkE",authDomain:"unie-btp.firebaseapp.com",projectId:"unie-btp",storageBucket:"unie-btp.firebasestorage.app",messagingSenderId:"850074500902",appId:"1:850074500902:web:89ec6e2bd0c9165abb8be7"}),c=(0,i.v0)(l),d=(0,n.ad)(l),o=(0,r.cF)(l)}},e=>{var t=t=>e(e.s=t);e.O(0,[358,387,956,274,895,648,271,955,285,262,492,130,215,744],()=>t(63321)),_N_E=e.O()}]);